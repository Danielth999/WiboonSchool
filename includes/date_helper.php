<?php
function formatThaiDate($date)
{
    // กำหนดชื่อเดือนภาษาไทย
    $thai_months = [
        "01" => "มกราคม",
        "02" => "กุมภาพันธ์",
        "03" => "มีนาคม",
        "04" => "เมษายน",
        "05" => "พฤษภาคม",
        "06" => "มิถุนายน",
        "07" => "กรกฎาคม",
        "08" => "สิงหาคม",
        "09" => "กันยายน",
        "10" => "ตุลาคม",
        "11" => "พฤศจิกายน",
        "12" => "ธันวาคม"
    ];

    // ตรวจสอบรูปแบบวันที่และแยกเป็นส่วนๆ
    $date_parts = preg_split('/[\/\-\.]/', $date);  // รองรับ /, -, หรือ . เป็นตัวแบ่ง

    // ตรวจสอบว่าเรามีวันที่ครบ 3 ส่วนหรือไม่
    if (count($date_parts) !== 3) {
        return "Invalid date format";
    }

    // แปลงวันที่จากสตริงเป็นจำนวนเต็ม
    $day = intval($date_parts[2]);
    $month = $thai_months[$date_parts[1]] ?? '';
    $year = intval($date_parts[0]) + 543;

    return "$day $month พ.ศ. $year";
}